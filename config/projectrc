" {{{ CBN
" {{{ Preisvergleich
function! ConfigurePreisvergleich()
    call ConfigurePhpProject()
    call LoadCTagsFile('php', g:vimfiles . '/persistent-tags/php/zendframework1')
    call LoadCTagsFile('php', g:vimfiles . '/persistent-tags/php/phpunit')

    call ConfigureProject(
                \ '~/repositories/cbn/preisvergleich/',
                \ 'vagrant:/var/www/prvg'
                \ )
    augroup end
endfunction

augroup Preisvergleich
    autocmd! BufEnter,BufNewFile,BufRead
                \ ~/repositories/cbn/preisvergleich/**
                \ call ConfigurePreisvergleich()
augroup END
"}}}

" {{{ Shoprocket
function! ConfigureShoprocket()
    call ConfigurePhpProject()
    call LoadCTagsFile(escape(expand(g:vimfiles . '/persistent-tags/php/zendframework1')))
    call LoadCTagsFile(escape(expand(g:vimfiles . '/persistent-tags/php/phpunit')))

    call ConfigureProject(
                \ '~/repositories/cbn/shoprocket/',
                \ 'vagrant:/var/www/shoprocket'
                \ )
endfunction

augroup ShopRocket
    autocmd! BufEnter,BufNewFile,BufRead
                \ ~/repositories/cbn/shoprocket/**
                \     call ConfigureShoprocket()
augroup END
"}}}

" {{{ Soap
function! ConfigureSoap()
    call ConfigurePhpProject()
    call LoadCTagsFile(escape(expand(g:vimfiles . '/persistent-tags/php/zendframework1')))
    call LoadCTagsFile(escape(expand(g:vimfiles . '/persistent-tags/php/phpunit')))

    call ConfigureProject(
                \ '~/repositories/cbn/soap-backend/',
                \ 'vagrant:/var/www/prvg'
                \ )
    augroup end
endfunction

augroup Soap
    autocmd! BufEnter,BufNewFile,BufRead
                \ ~/repositories/cbn/soap-backend/**
                \ call ConfigureSoap()
augroup END
"}}}
"}}}

" {{{ Project
" {{{ Invoicing
function! ConfigureProjectInvoicing()
    VirtualEnvActivate invoicing
    set makeprg=./manage.py\ test\ --traceback\ --noinput

    call ConfigureProject(
                \ '~/repositories/projects/invoicing/',
                \ 'vagrant:/var/www/invoicing'
                \ )
endfunction

augroup ProjectInvoicing
    autocmd! BufEnter,BufNewFile,BufRead
                \ ~/repositories/projects/invoicing/**
                \ call ConfigureProjectInvoicing()
augroup END
"}}}
"}}}

" vim: filetype=vim textwidth=80 foldmethod=marker
